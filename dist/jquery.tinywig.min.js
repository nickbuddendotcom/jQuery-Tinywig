!function(t,i,n){"use strict";function a(i,n){this.element=i,this.settings=t.extend({},o,n),this._defaults=o,this._editorBar=d,this._saveBar=s,this._name=e,this.init()}var e="tinywig",o={},d=['<div class="tinywig-edit-buttons tinywig-bar">','<div data-action="bold" class="tinywig-edit-button fa fa-bold"></div>','<div data-action="italic" class="tinywig-edit-button fa fa-italic"></div>','<div data-action="underline" class="tinywig-edit-button fa fa-underline"></div>','<div data-action="strikethrough" class="tinywig-edit-button fa fa-strikethrough"></div>','<div data-action="picture" class="tinywig-edit-button fa fa-picture-o"></div>','<div data-action="quote" class="tinywig-edit-button fa fa-quote-left"></div>',"</div>"].join(""),s=['<div class="tinywig-done-buttons tinywig-bar">','<div data-action="bold" class="tinywig-done-button tinywig-done-button-ok fa fa-check"></div>','<div data-action="italic" class="tinywig-done-button tinywig-done-button-undo fa fa-undo"></div>',"</div>"].join("");a.prototype={init:function(){var i=this,n=t(this.element),a=n.html(),e=t('<div class="tinywig-temp-cont-wrap" />');e.html(a).attr("contenteditable","true"),n.empty().addClass("tinywig-editor").prepend(this._editorBar).append(e).append(this._saveBar),e.focus(),n.find(".tinywig-edit-button").on("mousedown",function(n){n.preventDefault();var a=t(this),e=a.data("action");-1!==t.inArray(e,["bold","italic","underline","strikethrough"])?i._toggleWrap(e):console.log("the fuck?")})},_toggleWrap:function(t){var i,a=this._getSelection();a&&(i=n.createElement("span"),i.className="tinywig-"+t,a.surroundContents(i))},_getSelection:function(){var t=rangy.getSelection();return t.rangeCount?t.getRangeAt(0):null}},t.fn[e]=function(i){return this.each(function(){t.data(this,"plugin_"+e)||t.data(this,"plugin_"+e,new a(this,i))}),this}}(jQuery,window,document);